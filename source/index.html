<!DOCTYPE html>
<html class="page" lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cat_energy_Ltd</title>
  <link rel="stylesheet" href="css/style.css">
  <style>
    html {
      background-image: url("img/pixel-glass/mobile-bg.png");
      background-repeat: no-repeat;
      background-position: 50% 0;

      @media (min-width: 768px) {
        background-image: url("img/pixel-glass/tablet-bg.png");
      }

      @media (min-width: 1220px) {
        background-image: url("img/pixel-glass/desktop-bg.png");
      }
    }
  </style>
</head>

<body class="page__body">
  <header class="page-header">
    <nav class="page-header__nav page-header__nav--opened">
      <div class="page-header__bar">
        <div class="page-header__logo">
          <a class="logo" href="index.html">
            <picture>
              <source media="(min-width:  1440px)" srcset="img/logo-desktop.svg" width="202" height="59">
              <source media="(min-width: 768px)" srcset="img/logo-tablet.svg" width="174" height="52">
              <img class="logo__img" src="img/logo-mobile.svg" width="34" height="38" alt="Логотип Cat Energy">
            </picture>
          </a>
          <a class="footer-logo" href="index.html">
            <svg class="footer-logo__icon" width="101" height="18">
              <use xlink:href="img/sprite.svg#footer-logo"></use>
            </svg>
          </a>
        </div>
        <button class="page-header__toggle" type="button"><span class="visually-hidden">Открыть меню</span></button>
      </div>
      <ul class="page-header__menu main-nav">
        <li class="main-nav__item main-nav__item--active">
          <a class="main-nav__link" href="index.html">главная</a>
        </li>
        <li class="main-nav__item">
          <a class="main-nav__link" href="catalog.html">каталог продукции</a>
        </li>
        <li class="main-nav__item">
          <a class="main-nav__link" href="programs.html">подбор программы</a>
        </li>
      </ul>
    </nav>
  </header>

  <main class="main-index">
    <section class="promo">
      <div class="promo__wrapper wrapper">
        <h1 class="promo__title">Функциональное<br>питание для котов</h1>
        <p class="promo__slogan">Занялся собой? Займись котом!</p>
        <picture>
          <source media="(min-width:  1440px)" srcset="img/index-can-desktop.png, img/index-can-desktop@2x.png 2x">
          <source media="(min-width: 768px)" srcset="img/index-can-tablet.png, img/index-can-tablet@2x.png 2x">
          <img class="promo__img" srcset="img/index-can-mobile@2x.png 2x" src="img/index-can-mobile.png" width="280"
            height="270" alt="Банка кошкорма">
        </picture>
        <a class="promo__button button" href="programs.html">подобрать программу</a>
      </div>
    </section>

    <section class="programs">
      <div class="wrapper">
        <h2 class="visually-hidden">Программы питания</h2>
        <ul class="programs__list">
          <li class="programs__item programs__item--slim">
            <h3 class="programs__title">похудение</h3>
            <p class="programs__description">Ваш кот весит больше собаки и почти утратил способность лазить по деревьям?
              Пора на диету! Cat Energy Slim поможет вашему питомцу сбросить лишний вес.</p>
            <a class="programs__button" href="catalog.html">каталог slim</a>
          </li>
          <li class="programs__item programs__item--mass">
            <h3 class="programs__title">набор массы</h3>
            <p class="programs__description">Заработать авторитет среди дворовых котов и даже собак? Серия Cat Energy
              Pro
              поможет вашему коту нарастить необходимые мышцы!</p>
            <a class="programs__button" href="catalog.html">каталог pro</a>
          </li>
        </ul>
      </div>
    </section>

    <section class="features">
      <div class="wrapper">
        <h2 class="features__title">Как это работает</h2>
        <ol class="features__list">
          <li class="features__item features__item--leaf">Функциональное питание<br>содержит только
            полезные<br>питательные
            вещества.</li>
          <li class="features__item features__item--powder">Выпускается в виде порошка,<br>который нужно лишь
            залить<br>кипятком и готово.</li>
          <li class="features__item features__item--meal">Замените один-два приема<br>обычной еды на
            наше<br>функциональное
            питание.</li>
          <li class="features__item features__item--weight">Уже через месяц<br> наслаждайтесь изменениями<br> к лучшему
            вашего питомца!</li>
        </ol>
      </div>
    </section>
    <section class="example">
      <div class="example__wrapper wrapper">
        <div class="example__info">
          <h2 class="example__title">Живой пример</h2>
          <p class="example__text">Борис сбросил 5 кг за 2 месяца, просто заменив свой обычный корм на Cat Energy Slim.
            Отличный результат без изнуряющих тренировок! При этом он не менял своих привычек и по-прежнему спит по 16
            часов в день. </p>
          <div class="example__stats">
            <dl class="example__list">
              <div class="example__item">
                <dt class="example__number">5 КГ</dt>
                <dd class="example__description">снижение<br> веса</dd>
              </div>
              <div class="example__item">
                <dt class="example__number">60 ДНЕЙ</dt>
                <dd class="example__description">затрачено<br> времени</dd>
              </div>
            </dl>
            <p class="example__cost">Затраты на питание:<br> 15 000 РУБ.</p>
          </div>
        </div>
        <div class="example__picture">
          <div class="example__history">
            <div class="example__images">
              <img class="example__img example__img--before example__img--current" src="img/cat-before-mobile.png"
                srcset="img/cat-before-mobile@2x.png 2x" width="280" height="232" alt="Фото кота до похудения">
              <img class="example__img example__img--after" src="img/cat-after-mobile.png"
                srcset="img/cat-after-mobile@2x.png 2x" width="243" height="232" alt="Фото кота после похудения">
              <img class="example__img example__img--duo" src="img/image_cat_tablet.png"
                srcset="img/image_cat_tablet@2x.png 2x" width="591" height="511" alt="Совмещённое изображение котов">
            </div>
          </div>
          <div class="example__switcher switcher">
            <button class="switcher__button switcher__button--before" type="button">было</button>
            <div class="switcher__toggles">
              <span class="switcher__toggle switcher__toggle--before"></span>
            </div>
            <input class="switcher__bar" type="range" value="50" min="17" max="83">
            <button class="switcher__button switcher__button--after" type="button">стало</button>
          </div>
        </div>
      </div>
    </section>

    <section class="contacts">
      <h2 class="visually-hidden">Контакты</h2>
      <div class="contacts__wrapper">
        <p class="contacts__title">приглашаем<br>к сотрудничеству<br>дилеров!</p>
        <div class="contacts__adress">
          <address class="contacts__text">ул. Большая<br>Конюшенная, д. 19/8</address>
          <address class="contacts__text">Санкт-Петербург</address>
        </div>
      </div>
      <iframe class="contacts__map"
        src="https://yandex.ru/map-widget/v1/?um=constructor%3Ad224644410c55b2ed14431db75f96f5f9b20f7bae6f613c488ede772f53925b8&amp;source=constructor">
      </iframe>
    </section>
  </main>

  <footer class="page-footer">
    <div class="page-footer__wrapper wrapper">
      <a class="page-footer__logo footer-logo">
        <svg class="footer-logo__icon" width="128" height="24">
          <use xlink:href="img/sprite.svg#footer-logo"></use>
        </svg>
      </a>
      <ul class="page-footer__list social">
        <li class="social__item">
          <a class="social__link social__link--vkontakte" href="https://vk.com/htmlacademy">
            <svg class="social__icon" width="23" height="13" viewBox="0 0 23 13" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="M0.0700912 1.99266C0.0700912 1.37082 0.493211 1.03552 1.33945 0.986745L4.60039 1.00503C4.81925 1.00503 4.96515 1.09648 5.03811 1.27938C5.37368 2.19385 5.74938 2.98334 6.16521 3.64785C6.58103 4.31237 7.12453 5.07748 7.79568 5.94317C7.85404 6.05291 7.94888 6.10778 8.08019 6.10778C8.18233 6.10778 8.26257 6.0651 8.32093 5.97975L8.38659 5.77857L8.40848 2.6145C8.40848 2.39503 8.34647 2.24871 8.22245 2.17556C8.09843 2.1024 7.86863 2.04753 7.53305 2.01095C7.27043 1.97437 7.13912 1.84025 7.13912 1.60859C7.13912 1.55981 7.14641 1.52323 7.161 1.49885C7.4674 0.706308 8.34282 0.310037 9.78726 0.310037L11.0129 0.291748C11.5673 0.291748 12.0269 0.407581 12.3916 0.639247C12.7564 0.870912 12.9388 1.2367 12.9388 1.73661V5.88831C13.0409 5.94927 13.1357 5.97975 13.2233 5.97975C13.4421 5.97975 13.6318 5.87002 13.7923 5.65054C15.3973 3.77283 16.2654 2.51696 16.3967 1.88293C16.3967 1.87073 16.4113 1.84025 16.4405 1.79148C16.5426 1.60859 16.7104 1.45008 16.9438 1.31595C17.1773 1.18183 17.3815 1.09039 17.5566 1.04161C17.615 1.01723 17.6806 1.00503 17.7536 1.00503H21.1459L21.3647 1.02332C21.6565 1.02332 21.8827 1.13916 22.0432 1.37082C22.1015 1.44398 22.1416 1.52323 22.1635 1.60859C22.1854 1.69394 22.2 1.77929 22.2073 1.86464C22.2146 1.94999 22.2182 1.99876 22.2182 2.01095V2.13898C22.1161 2.63889 21.8571 3.17233 21.4413 3.7393C21.0255 4.30627 20.4966 4.91897 19.8546 5.57739C19.2126 6.2358 18.8114 6.66865 18.6509 6.87593C18.5196 7.02225 18.4539 7.15637 18.4539 7.2783C18.4539 7.37584 18.5123 7.48558 18.629 7.60751L21.8243 10.9728C21.9994 11.1678 22.0869 11.3812 22.0869 11.6129C22.0869 11.8933 21.9556 12.125 21.693 12.3079C21.4304 12.4908 21.1167 12.5944 20.7519 12.6188L20.3799 12.6371H17.0533C17.0387 12.6371 17.0095 12.6401 16.9657 12.6462C16.9219 12.6523 16.8928 12.6554 16.8782 12.6554C16.5572 12.6554 16.2581 12.5396 15.9809 12.3079C15.8787 12.2103 15.193 11.491 13.9236 10.1497C13.8507 10.0644 13.7485 9.98513 13.6172 9.91197C13.5589 10.1071 13.4823 10.3875 13.3874 10.7533C13.2926 11.1191 13.2233 11.3812 13.1795 11.5397L13.1139 11.8506C12.968 12.2774 12.6616 12.5335 12.1947 12.6188L11.8883 12.6371H9.74349C8.53249 12.6371 7.32514 12.1738 6.12144 11.2471C4.91773 10.3204 3.8344 9.12248 2.87144 7.65323C1.90848 6.18398 1.01117 4.47392 0.179519 2.52306C0.106567 2.36455 0.0700912 2.18775 0.0700912 1.99266ZM13.2233 6.72962C12.9169 6.72962 12.6397 6.65951 12.3916 6.51929C12.1436 6.37907 12.0196 6.18703 12.0196 5.94317V1.73661C12.0196 1.49275 11.9466 1.319 11.8007 1.21536C11.6548 1.11172 11.3995 1.0599 11.0347 1.0599L9.78726 1.09648C9.15988 1.09648 8.68569 1.18793 8.36471 1.37082C9.00668 1.62687 9.32767 2.04143 9.32767 2.6145V5.83344C9.29849 6.13826 9.15258 6.39126 8.88996 6.59245C8.62733 6.79363 8.33552 6.89422 8.01454 6.89422C7.57683 6.89422 7.24125 6.71742 7.0078 6.36383C5.86975 4.92506 5.02351 3.55945 4.46908 2.267L4.27211 1.79148L1.36134 1.77319C1.17166 1.77319 1.06588 1.78233 1.044 1.80062C1.02211 1.81891 1.01117 1.87073 1.01117 1.95608C1.01117 2.06582 1.02576 2.18165 1.05494 2.30358L1.51454 3.32779C2.74013 5.97366 4.07149 8.05865 5.50864 9.58276C6.94579 11.1069 8.35741 11.8689 9.74349 11.8689H11.932C12.0196 11.8689 12.0852 11.8476 12.129 11.8049C12.1728 11.7623 12.2093 11.6799 12.2384 11.558L12.2822 11.3751L12.698 9.76566C12.8148 9.54619 12.9169 9.39987 13.0044 9.32671C13.1649 9.19259 13.3546 9.12553 13.5735 9.12553C13.9236 9.12553 14.2811 9.30233 14.6459 9.65592L16.5061 11.6312C16.6228 11.7897 16.7469 11.8689 16.8782 11.8689H20.4893C20.927 11.8689 21.1459 11.7775 21.1459 11.5946C21.1459 11.5336 21.124 11.4727 21.0802 11.4117L17.9068 8.10132C17.6588 7.84527 17.5347 7.57093 17.5347 7.2783C17.5347 6.98567 17.6515 6.70523 17.8849 6.43699C18.0746 6.19313 18.443 5.78771 18.9901 5.22074C19.5373 4.65377 20.0151 4.12338 20.4236 3.62956C20.8322 3.13575 21.1021 2.68766 21.2334 2.28529L21.299 2.04753C21.2845 2.02314 21.2772 1.98352 21.2772 1.92865C21.2772 1.87378 21.2699 1.82806 21.2553 1.79148H17.8193C17.6004 1.86464 17.4253 1.97437 17.294 2.12069L17.1627 2.46819C16.7979 3.3095 15.8423 4.60805 14.2957 6.36383C13.9893 6.60769 13.6318 6.72962 13.2233 6.72962Z" />
            </svg>
            <span class="visually-hidden">Мы в Вконтакте</span>
          </a>
        </li>
        <li class="social__item">
          <a class="social__link social__link--instagram" href="https://www.instagram.com/htmlacademy">
            <svg class="social__icon" width="16" height="16" viewBox="0 0 16 16" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="M7.98438 0.0625C9.31771 0.0625 10.4062 0.078125 11.25 0.109375C11.9688 0.140625 12.6094 0.265625 13.1719 0.484375C13.7135 0.692708 14.1823 0.994792 14.5781 1.39062C14.974 1.78646 15.276 2.25521 15.4844 2.79687C15.7031 3.35937 15.8281 4 15.8594 4.71875C15.8906 5.5625 15.9062 6.65104 15.9062 7.98437C15.9062 9.31771 15.8906 10.4062 15.8594 11.25C15.8281 11.9687 15.7031 12.6094 15.4844 13.1719C15.276 13.7135 14.974 14.1823 14.5781 14.5781C14.1823 14.974 13.7135 15.276 13.1719 15.4844C12.6094 15.7031 11.9688 15.8281 11.25 15.8594C10.4062 15.8906 9.31771 15.9062 7.98438 15.9062C6.65104 15.9062 5.5625 15.8906 4.71875 15.8594C4 15.8281 3.35938 15.7031 2.79688 15.4844C2.25521 15.276 1.78646 14.974 1.39062 14.5781C0.994792 14.1823 0.692708 13.7135 0.484375 13.1719C0.265625 12.6094 0.140625 11.9687 0.109375 11.25C0.078125 10.4062 0.0625 9.31771 0.0625 7.98437C0.0625 6.65104 0.078125 5.5625 0.109375 4.71875C0.140625 4 0.265625 3.35937 0.484375 2.79687C0.692708 2.25521 0.994792 1.78646 1.39062 1.39062C1.78646 0.994792 2.25521 0.692708 2.79688 0.484375C3.35938 0.265625 4 0.140625 4.71875 0.109375C5.5625 0.078125 6.65104 0.0625 7.98438 0.0625ZM7.98438 1.09375C6.59896 1.09375 5.46875 1.10937 4.59375 1.14062C4.03125 1.16146 3.51042 1.26042 3.03125 1.4375C2.28125 1.75 1.75 2.28125 1.4375 3.03125C1.26042 3.51042 1.16146 4.03125 1.14062 4.59375C1.10938 5.46875 1.09375 6.59896 1.09375 7.98437C1.09375 9.36979 1.10938 10.5 1.14062 11.375C1.16146 11.9375 1.26042 12.4583 1.4375 12.9375C1.75 13.6875 2.28125 14.2187 3.03125 14.5312C3.51042 14.7083 4.03125 14.8073 4.59375 14.8281C5.46875 14.8594 6.59896 14.875 7.98438 14.875C9.36979 14.875 10.5 14.8594 11.375 14.8281C11.9375 14.8073 12.4583 14.7083 12.9375 14.5312C13.6875 14.2187 14.2188 13.6875 14.5312 12.9375C14.7083 12.4583 14.8073 11.9375 14.8281 11.375C14.8594 10.5 14.875 9.36979 14.875 7.98437C14.875 6.59896 14.8594 5.46875 14.8281 4.59375C14.8073 4.03125 14.7083 3.51042 14.5312 3.03125C14.2188 2.28125 13.6875 1.75 12.9375 1.4375C12.4583 1.26042 11.9375 1.16146 11.375 1.14062C10.5 1.10937 9.36979 1.09375 7.98438 1.09375ZM7.98438 11.1562C8.85938 11.1562 9.60677 10.8464 10.2266 10.2266C10.8464 9.60677 11.1562 8.85937 11.1562 7.98437C11.1562 7.10937 10.8464 6.36198 10.2266 5.74219C9.60677 5.1224 8.85938 4.8125 7.98438 4.8125C7.10938 4.8125 6.36198 5.1224 5.74219 5.74219C5.1224 6.36198 4.8125 7.10937 4.8125 7.98437C4.8125 8.85937 5.1224 9.60677 5.74219 10.2266C6.36198 10.8464 7.10938 11.1562 7.98438 11.1562ZM7.98438 3.92187C9.10938 3.92187 10.0677 4.31771 10.8594 5.10937C11.651 5.90104 12.0469 6.85937 12.0469 7.98437C12.0469 9.10937 11.651 10.0677 10.8594 10.8594C10.0677 11.651 9.10938 12.0469 7.98438 12.0469C6.85938 12.0469 5.90104 11.651 5.10938 10.8594C4.31771 10.0677 3.92188 9.10937 3.92188 7.98437C3.92188 6.85937 4.31771 5.90104 5.10938 5.10937C5.90104 4.31771 6.85938 3.92187 7.98438 3.92187ZM13.1719 3.76562C13.1719 4.02604 13.0781 4.2474 12.8906 4.42969C12.7031 4.61198 12.474 4.70312 12.2031 4.70312C11.9427 4.70312 11.7214 4.61198 11.5391 4.42969C11.3568 4.2474 11.2656 4.02604 11.2656 3.76562C11.2656 3.49479 11.3568 3.26562 11.5391 3.07812C11.7214 2.89062 11.9427 2.79687 12.2031 2.79687C12.4635 2.79687 12.6901 2.89323 12.8828 3.08594C13.0755 3.27865 13.1719 3.50521 13.1719 3.76562Z" />
            </svg>
            <span class="visually-hidden">Мы в Инстаграме</span>
          </a>
        </li>
        <li class="social__item">
          <a class="social__link social__link--facebook" href="https://www.facebook.com/htmlacademy">
            <svg class="social__icon" width="13" height="20" viewBox="0 0 13 20" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="M11.5 0.833252H8.75001C7.53443 0.833252 6.36864 1.30674 5.5091 2.14957C4.64956 2.99239 4.16667 4.1355 4.16667 5.32743V8.02394H1.41667V11.6193H4.16667V18.81H7.83334V11.6193H10.5833L11.5 8.02394H7.83334V5.32743C7.83334 5.08905 7.92992 4.86042 8.10182 4.69186C8.27373 4.52329 8.50689 4.4286 8.75001 4.4286H11.5V0.833252Z"
                stroke-width="1.1" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
            <span class="visually-hidden">Мы в Фейсбуке</span>
          </a>
        </li>
      </ul>
      <a class="page-footer__copyright" href="https://htmlacademy.ru/intensive/adaptive">
        <span class="visually-hidden">Разработано в </span>HTML Academy
        <svg class="page-footer__icon" width="27" height="34" viewBox="0 0 27 34" fill="none"
          xmlns="http://www.w3.org/2000/svg">
          <path
            d="M13.6426 0.0157537L13.5 0L0 1.40733V26.0129L13.5 34L27 26.0129V1.40733L13.6426 0.0157537ZM25.2344 25.0151L13.5 31.9573L1.76561 25.0151V14.9293L13.4507 21.8451L13.4701 23.0984L5.45351 18.3548L5.44295 19.5801L13.4894 24.3885L13.5088 25.675L5.46408 20.9174L5.45351 22.1427L13.5 26.9511L21.6239 22.1182V20.8929V16.909L25.2432 14.7595L25.2344 25.0151ZM25.2344 13.4519L22.0147 15.3319L20.5325 16.2071L13.4666 12.0201L13.456 13.2454L19.4957 16.818L19.4429 16.8495L19.3126 16.9247L18.4536 17.4166L13.4666 14.4689L13.456 15.6942L17.3921 18.0222L16.4591 18.6314L16.438 18.6436L13.4666 16.902L13.456 18.1273L15.4029 19.2615L13.4155 20.4483L1.7973 13.5762L13.4349 6.61831L25.2344 13.4519ZM25.2344 12.2266L13.4401 5.31075L1.76561 12.2196V2.9897L13.5 1.76442L25.2344 2.9897V12.2266Z" />
        </svg>
      </a>
    </div>
  </footer>

  <script>
    var navMain = document.querySelector('.page-header__nav');
    var navToggle = document.querySelector('.page-header__toggle');

    navToggle.addEventListener('click', function () {
      if (navMain.classList.contains('page-header__nav--closed')) {
        navMain.classList.remove('page-header__nav--closed');
        navMain.classList.add('page-header__nav--opened');
      } else {
        navMain.classList.add('page-header__nav--closed');
        navMain.classList.remove('page-header__nav--opened');
      }
    });
  </script>

  <script>
    var buttonBefore = document.querySelector('.switcher__button--before');
    var buttonAfter = document.querySelector('.switcher__button--after');
    var switcher = document.querySelector('.switcher__toggle');
    var catBefore = document.querySelector('.example__img--before');
    var catAfter = document.querySelector('.example__img--after');

    buttonBefore.addEventListener('click', function () {
      if (switcher.classList.contains('switcher__toggle--after')) {
        switcher.classList.remove('switcher__toggle--after')
      }
      if (catAfter.classList.contains('example__img--current')) {
        catAfter.classList.remove('example__img--current');
        catBefore.classList.add('example__img--current');
      }
    })

    buttonAfter.addEventListener('click', function () {
      switcher.classList.add('switcher__toggle--after');
      if (catBefore.classList.contains('example__img--current')) {
        catBefore.classList.remove('example__img--current');
        catAfter.classList.add('example__img--current');
      }
    });
  </script>

  <script>
    function pixelGlass() {

      'use strict';

      var doc = document;
      var controlsPanel;
      var bodyContentWrapper;
      var panelClass = 'controls-panel';
      var canBeDisabled = [];

      var prefix = 'pg';
      var filtersList = ['none', 'invert'];
      var statesList = ['off', 'on'];

      var currents = {
        state: getCurrent('state', statesList[1]),
        filter: getCurrent('filter', filtersList[0]),
        opacity: getCurrent('opacity', 0.5)
      };

      var targets = {
        state: {
          elem: doc.documentElement,
          attr: 'data'
        },
        filter: {
          elem: doc.body,
          attr: 'data'
        },
        opacity: {
          elem: doc.body,
          attr: 'style'
        }
      };

      // States switcher params
      var paramsStates = {
        elemTag: 'button',
        elemText: 'on',
        listName: 'states',
        itemName: 'state',
        target: targets.state,
        type: 'button',
        list: statesList,
        canDisableAll: true,
        attrs: {
          tabindex: 1,
        }
      };

      // Filters switcher params
      var paramsFilters = {
        elemTag: 'button',
        elemText: 'invert',
        listName: 'filters',
        itemName: 'filter',
        target: targets.filter,
        type: 'button',
        list: filtersList,
        attrs: {
          tabindex: 2,
        }
      };

      // Opacity range params
      var paramsOpacity = {
        itemName: 'opacity',
        type: 'number',
        target: targets.opacity,
        setAttr: 'style',
        attrs: {
          min: 0,
          max: 1,
          step: 0.1,
          tabindex: 3,
        }
      };

      //---------------------------------------------

      init();

      //---------------------------------------------

      function init() {
        createContolsPanel();
        applyCurrentData();

        if (currents.state === 'on') {
          applyCurrentStyles();
        }
      }

      //---------------------------------------------

      function createContolsPanel() {
        var targetElem = doc.documentElement;

        if (hasData(doc.body, 'has-sticky-point')) {
          var stickyPoint = doc.querySelector('.sticky-point');

          if (stickyPoint && !localStorage['pg-released']) {
            targetElem = stickyPoint;
          }
          // Override defaults for demo page
          currents.state = 'off';
        }

        controlsPanel = doc.createElement('div');
        controlsPanel.classList.add(panelClass);
        targetElem.appendChild(controlsPanel);
        var sides = ['top', 'right', 'bottom', 'left'];

        sides.forEach(function (item) {
          var itemVal = getCurrent(item, '');
          if (itemVal) {
            controlsPanel.style[item] = itemVal;
          }
        });

        initControls();
      }

      //---------------------------------------------

      function initControls() {
        createButton(paramsStates);
        createButton(paramsFilters);
        createInputNumber(paramsOpacity);

        createDragButton();
      }

      //---------------------------------------------

      function createButton(params) {
        var listName = params.listName;
        var itemName = params.itemName;
        var elemTag = params.elemTag;
        var elemText = params.elemText;
        var type = params.type;
        var list = params.list;
        var action = params.action;
        var currentVal = currents[itemName];
        var attrs = params.attrs;
        var currentNum = list.indexOf(currentVal);
        var canDisableAll = params.canDisableAll;

        var id = itemName;
        var input = doc.createElement(elemTag);
        setClasses(input, [
          panelClass + '__control',
          panelClass + '__control--' + type
        ]);
        input.setAttribute('type', type);
        input.setAttribute('id', id);
        setData(input, 'state-num', currentNum);

        if (attrs) {
          for (var attr in attrs) {
            input.setAttribute(attr, attrs[attr]);
          }
        }

        if (elemTag === 'button') {
          input.innerHTML = elemText;
        }

        if (!canDisableAll) {
          canBeDisabled.push(input);
        }

        controlsPanel.appendChild(input);

        input.onclick = function () {
          if (!params.target) {
            return;
          }

          currentNum = +!currentNum;
          currentVal = list[currentNum];

          setData(input, 'state-num', currentNum);
          setData(params.target.elem, itemName, currentVal);

          saveLocalStorage(itemName, currentVal);

          if (canDisableAll && canDisableAll === true) {
            if (currentVal === 'off') {
              removeCurrentStyles();
              disableInputs();
            }
            else {
              applyCurrentStyles();
              enableInputs();
            }
          }
        };
      }

      //---------------------------------------------

      function createInputNumber(params) {
        var itemName = params.itemName;
        var attrs = params.attrs;
        var type = params.type;
        var setAttr = params.setAttr;
        var canDisableAll = params.canDisableAll;

        var id = itemName;
        var input = doc.createElement('input');
        setClasses(input, [
          panelClass + '__control',
          panelClass + '__control--' + type
        ]);
        input.setAttribute('type', type);
        input.setAttribute('id', id);

        for (var attr in attrs) {
          input.setAttribute(attr, attrs[attr]);
        }
        input.setAttribute('value', currents[itemName]);

        if (!canDisableAll) {
          canBeDisabled.push(input);
        }

        controlsPanel.appendChild(input);

        input.oninput = function () {
          if (setAttr === 'style') {
            params.target.elem.style[itemName] = this.value;
            saveLocalStorage(itemName, this.value);
          }
        };
      }

      //---------------------------------------------

      function createDragButton() {
        var input = doc.createElement('button');
        setClasses(input, [
          panelClass + '__control',
          panelClass + '__control--drag-n-drop'
        ]);
        input.setAttribute('type', 'button');
        input.innerHTML = ' ';

        controlsPanel.appendChild(input);

        input.onmousedown = function () {
          //Place it here to get real sizes after
          // external styles has been loaded
          var offsetTop = this.offsetTop;
          var offsetLeft = controlsPanel.clientWidth - this.clientWidth;
          var styles = getComputedStyle(controlsPanel);

          controlsPanel.style.top = styles.top;
          controlsPanel.style.left = styles.left;
          controlsPanel.style.right = 'auto';
          controlsPanel.style.bottom = 'auto';

          doc.onmousemove = function (ev) {
            var x = (ev.clientX - offsetLeft) + 'px';
            var y = (ev.clientY) + 'px';

            controlsPanel.style.left = x;
            controlsPanel.style.top = y;
          };
        };

        input.onmouseup = function () {
          var styles = getComputedStyle(controlsPanel);
          var left = +styles.left.replace(/px/, '');
          var right = +styles.right.replace(/px/, '');
          var top = +styles.top.replace(/px/, '');
          var bottom = +styles.bottom.replace(/px/, '');

          if (left > right) {
            saveLocalStorage('left', 'auto');
            saveLocalStorage('right', styles.right);

            controlsPanel.style.right = styles.right;
            controlsPanel.style.left = 'auto';
          }
          else {
            saveLocalStorage('left', styles.left);
            saveLocalStorage('right', 'auto'); //'auto' needs to override default position;
          }
          if (top > bottom) {
            saveLocalStorage('top', 'auto');
            saveLocalStorage('bottom', styles.bottom);

            controlsPanel.style.bottom = styles.bottom;
            controlsPanel.style.top = 'auto';
          }
          else {
            saveLocalStorage('top', styles.top);
            saveLocalStorage('bottom', 'auto');
          }

          doc.onmousemove = null;
        };
      }

      //---------------------------------------------

      function disableInputs() {
        canBeDisabled.forEach(function (item) {
          item.setAttribute('disabled', '');
        });
      }

      //---------------------------------------------

      function enableInputs() {
        canBeDisabled.forEach(function (item) {
          item.removeAttribute('disabled');
        });
      }

      //---------------------------------------------

      function getCurrent(name, defaultValue) {
        var itemName = [prefix, name].join('-');
        var localStorageVal = localStorage[itemName];
        return localStorageVal ? localStorageVal : defaultValue;
      }

      //---------------------------------------------

      function saveLocalStorage(name, value) {
        var itemName = [prefix, name].join('-');
        localStorage[itemName] = value;
      }

      //---------------------------------------------

      // Not used
      function getBodyOpacity() {
        var opacityStr = getComputedStyle(doc.body).opacity;
        return +opacityStr;
      }

      //---------------------------------------------

      // Not used
      function addExternalCSS() {
        var styleElem = doc.createElement('style');
        var cssLink = doc.createElement('link');
        cssLink.setAttribute('rel', 'stylesheet');
        cssLink.setAttribute('href', '../pixel-glass-js/styles.css');

        doc.head.appendChild(cssLink);
      }

      //---------------------------------------------

      function applyCurrentData() {
        for (var key in targets) {
          var target = targets[key];
          var current = currents[key];

          if (target.attr === 'data') {
            setData(target.elem, key, current);
          }
        }

        if (currents.state === 'off') {
          disableInputs();
        }
      }
      //---------------------------------------------

      function applyCurrentStyles() {
        for (var key in targets) {
          var target = targets[key];
          var current = currents[key];

          if (target.attr === 'style') {
            target.elem.style[key] = current;
          }
        }
      }

      //---------------------------------------------

      function removeCurrentStyles() {
        for (var key in targets) {
          var target = targets[key];

          if (target.attr === 'style') {
            target.elem.style[key] = '';
          }
        }
      }

      //---------------------------------------------

      // Made for IE10, it doesn't support dataset

      function hasData(elem, dataName) {
        if (!elem) {
          return false;
        }

        dataName = 'data-' + dataName;

        if (elem.getAttribute(dataName) !== undefined && elem.getAttribute(dataName) !== null) {
          return true;
        }

        return false;
      }

      //---------------------------------------------

      function setData(elem, dataName, dataVal) {
        if (!elem) {
          return;
        }

        dataName = 'data-' + dataName;
        elem.setAttribute(dataName, dataVal);
      }

      //---------------------------------------------

      // Made for IE10, it doesn't support
      // multiply classes for classList.add

      function setClasses(elem, classes) {
        if (!elem) {
          return;
        }

        if (classes.length > 0) {
          classes.forEach(function (className) {
            elem.classList.add(className);
          });
        }
      }

      //---------------------------------------------
    }

    window.onload = function () {
      pixelGlass();
    };
  </script>

</body>

</html>